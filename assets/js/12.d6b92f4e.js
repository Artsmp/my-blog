(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{573:function(t,e,a){"use strict";a.r(e);var o=a(13),s=Object(o.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"cookie-相关的知识"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cookie-相关的知识"}},[t._v("#")]),t._v(" cookie 相关的知识")]),t._v(" "),a("h4",{attrs:{id:"创建-cookie"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建-cookie"}},[t._v("#")]),t._v(" 创建 cookie")]),t._v(" "),a("p",[t._v("​\t\t服务器可以在响应头中添加 Set-Cookie 选项，浏览器收到响应后通常会保存下 cookie。之后")]),t._v(" "),a("p",[t._v("对该服务器的每一次请求中都通过 Cookie 请求头部将 cookie 信息发送给服务器。cookie 的属性有 `key、value、")]),t._v(" "),a("p",[t._v("path、domain、httpOnly、expires、secure、samesite`。")]),t._v(" "),a("p",[t._v("​\t\tJavaScript也可以创建和删除 token。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置一个键为 name，值为artsmp的cookie，并且它不允许被跨站请求携带，并且他的过期时间为60s")]),t._v("\ndocument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cookie "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name=artsmp;samesite=strict;max-age=60'")]),t._v("\n")])])]),a("h4",{attrs:{id:"httponly-secure"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#httponly-secure"}},[t._v("#")]),t._v(" httpOnly/secure")]),t._v(" "),a("p",[t._v("确保 cookie 被安全发送，并且不会被意外的篡改。")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("标记为 secure 的 cookie 只应通过 https 协议加密过的请求发送给服务端，所以 http 协议的请求无法使用 cookie 的 secure 标记")])]),t._v(" "),a("li",[a("p",[t._v("document.cookie 无法访问带 httpOnly 属性的 cookie，此类 cookie 只用于服务器。")])])]),t._v(" "),a("h4",{attrs:{id:"domain-path"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#domain-path"}},[t._v("#")]),t._v(" domain/path")]),t._v(" "),a("p",[t._v("标识定义了 cookie 的作用域：即允许 cookie 发送给哪些 url。")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("domain 未指定时默认为 origin，即不包含子域名。但是设置了 domain，则cookie也会被包含在子域名当中，例如：Domain=baidu.com，则 cookie 也包含在 yinyue.baidu.com")])]),t._v(" "),a("li",[a("p",[t._v("path 标识了主机下哪些路径可以接受cookie（该url路径必须存在于请求url中）即所设置的路径的子路径也会被匹配到。")])])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("例如设置 path=/doc，则以下路径都会匹配到：\n   /doc/aaa\n   /doc/aaa/bbb\n")])])]),a("h4",{attrs:{id:"samesite"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#samesite"}},[t._v("#")]),t._v(" samesite")]),t._v(" "),a("p",[t._v("用来设置浏览器跨站请求时是否携带cookie")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("none: 跨站请求也携带")])]),t._v(" "),a("li",[a("p",[t._v("strict: 只有访问相同站点的时候携带")])]),t._v(" "),a("li",[a("p",[t._v("lax: 与 strict 类似，但是外部站点导航至当前站点时允许携带，为浏览器默认配置")])])]),t._v(" "),a("blockquote",[a("p",[t._v("通过 js 创建的 cookie 不能包含 httponly 标志")])])])}),[],!1,null,null,null);e.default=s.exports}}]);